

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>src package &mdash; Stock Prediction API  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="tests package" href="tests.html" />
    <link rel="prev" title="main module" href="main.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Stock Prediction API
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Notes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../notes/LSTM.html">Understanding the LSTM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notes/GPM.html">Understanding the GPM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notes/usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notes/examples.html">Examples</a></li>
</ul>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">ml_stock_prediction_api</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="main.html">main module</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">src package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-src.BayesReg">src.BayesReg module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-src.CombinedModel">src.CombinedModel module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-src.StockRNN">src.StockRNN module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-src.get_data">src.get_data module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-src.prob_train">src.prob_train module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-src">Module contents</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tests.html">tests package</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Stock Prediction API</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="modules.html">ml_stock_prediction_api</a> &raquo;</li>
        
      <li>src package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/_build/src.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="src-package">
<h1>src package<a class="headerlink" href="#src-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-src.BayesReg">
<span id="src-bayesreg-module"></span><h2>src.BayesReg module<a class="headerlink" href="#module-src.BayesReg" title="Permalink to this headline">¶</a></h2>
<p>Code for the Gaussian Process Model implementation.</p>
<p>&#64;author: Shashank Swaminathan</p>
<dl class="class">
<dt id="src.BayesReg.GPM">
<em class="property">class </em><code class="sig-prename descclassname">src.BayesReg.</code><code class="sig-name descname">GPM</code><span class="sig-paren">(</span><em class="sig-param">ticker</em>, <em class="sig-param">start_date=datetime.datetime(2000</em>, <em class="sig-param">1</em>, <em class="sig-param">1</em>, <em class="sig-param">0</em>, <em class="sig-param">0)</em>, <em class="sig-param">end_date=datetime.datetime(2019</em>, <em class="sig-param">12</em>, <em class="sig-param">21</em>, <em class="sig-param">16</em>, <em class="sig-param">27</em>, <em class="sig-param">13</em>, <em class="sig-param">74544)</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/BayesReg.html#GPM"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.BayesReg.GPM" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class encapsulating Gaussian Process model implementation. Depends on the PyMC3 library.</p>
<dl class="method">
<dt id="src.BayesReg.GPM.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">ticker</em>, <em class="sig-param">start_date=datetime.datetime(2000</em>, <em class="sig-param">1</em>, <em class="sig-param">1</em>, <em class="sig-param">0</em>, <em class="sig-param">0)</em>, <em class="sig-param">end_date=datetime.datetime(2019</em>, <em class="sig-param">12</em>, <em class="sig-param">21</em>, <em class="sig-param">16</em>, <em class="sig-param">27</em>, <em class="sig-param">13</em>, <em class="sig-param">74544)</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/BayesReg.html#GPM.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.BayesReg.GPM.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>init function. Fetches and prepares data from desired ticker using Company class from accompanying get_data API. Assumes start and end dates of January 1st, 2000 -&gt; today.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ticker</strong> – Ticker of stock to predict.</p></li>
<li><p><strong>start_date</strong> – Datetime object of when to start retrieving stock data. Defaults to 1/1/2000.</p></li>
<li><p><strong>end_date</strong> – Datetime object of when to stop retrieving stock data. Defaults to today’s date.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="src.BayesReg.GPM.go">
<code class="sig-name descname">go</code><span class="sig-paren">(</span><em class="sig-param">start_date=None</em>, <em class="sig-param">split_date=Timestamp('2019-09-30 00:00:00')</em>, <em class="sig-param">end_date=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/BayesReg.html#GPM.go"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.BayesReg.GPM.go" title="Permalink to this definition">¶</a></dt>
<dd><p>Main function to train the model and predict future data. First generates training and testing data, then trains the GP on the training data. Finally, it predicts on the time range specified.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start_date</strong> – Date to start training GP. If left as None, defaults to starting date of training data set.</p></li>
<li><p><strong>split_date</strong> – Date to end training.</p></li>
<li><p><strong>start_date</strong> – Date to end predicting using GP. If left as None, defaults to ending date of training data set. Assumes prediction starts right after training.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A tuple of four arrays, containing the mean predictions, upper/lower bounds of predictions, training data, and test data for comparison. Predictions done on non business days are dropped.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-src.CombinedModel">
<span id="src-combinedmodel-module"></span><h2>src.CombinedModel module<a class="headerlink" href="#module-src.CombinedModel" title="Permalink to this headline">¶</a></h2>
<p>Code for the combined model approach.</p>
<p>&#64;author: Shashank Swaminathan</p>
<dl class="class">
<dt id="src.CombinedModel.CombinedModel">
<em class="property">class </em><code class="sig-prename descclassname">src.CombinedModel.</code><code class="sig-name descname">CombinedModel</code><span class="sig-paren">(</span><em class="sig-param">ticker</em>, <em class="sig-param">comp_tickers</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/CombinedModel.html#CombinedModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.CombinedModel.CombinedModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class for handling combined model operations.</p>
<dl class="method">
<dt id="src.CombinedModel.CombinedModel.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">ticker</em>, <em class="sig-param">comp_tickers</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/CombinedModel.html#CombinedModel.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.CombinedModel.CombinedModel.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>init function. It will set up the StockRNN and GPM classes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ticker</strong> – Ticker of stocks to predict</p></li>
<li><p><strong>comp_tickers</strong> – List of tickers to compare desired ticker against. Used for StockRNN only.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="src.CombinedModel.CombinedModel.train">
<code class="sig-name descname">train</code><span class="sig-paren">(</span><em class="sig-param">start_date</em>, <em class="sig-param">pred_start</em>, <em class="sig-param">pred_end</em>, <em class="sig-param">mw=0.5</em>, <em class="sig-param">n_epochs=10</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/CombinedModel.html#CombinedModel.train"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.CombinedModel.CombinedModel.train" title="Permalink to this definition">¶</a></dt>
<dd><p>Main training function. It runs both the LSTM and GP models and stores results in attributes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start_date</strong> – Training start date (for GP model only). Provide as datetime object.</p></li>
<li><p><strong>pred_start</strong> – Date to start predictions from. Provide as datetime object.</p></li>
<li><p><strong>pred_end</strong> – Date to end predictions. Provide as datetime object.</p></li>
<li><p><strong>mw</strong> – Model weight. Used to do weighted average between GP and LSTM. 0 is for only the LSTM, and 1 is for only the GP. Defaults to 0.5 (equal split).</p></li>
<li><p><strong>n_epochs</strong> – Number of epochs to train the LSTM. Defaults to 10.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(Mean predictions [t, y], Upper/lower bounds of 2 std [t, y])</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-src.StockRNN">
<span id="src-stockrnn-module"></span><h2>src.StockRNN module<a class="headerlink" href="#module-src.StockRNN" title="Permalink to this headline">¶</a></h2>
<p>Code to train the RNN</p>
<p>&#64;author: Duncan Mazza</p>
<dl class="class">
<dt id="src.StockRNN.StockRNN">
<em class="property">class </em><code class="sig-prename descclassname">src.StockRNN.</code><code class="sig-name descname">StockRNN</code><span class="sig-paren">(</span><em class="sig-param">ticker: str</em>, <em class="sig-param">lstm_hidden_size: int = 100</em>, <em class="sig-param">lstm_num_layers: int = 2</em>, <em class="sig-param">to_compare: [&lt;class 'str'&gt;] = None</em>, <em class="sig-param">train_start_date: datetime.datetime = datetime.datetime(2017</em>, <em class="sig-param">1</em>, <em class="sig-param">1</em>, <em class="sig-param">0</em>, <em class="sig-param">0)</em>, <em class="sig-param">train_end_date: datetime.datetime = datetime.datetime(2018</em>, <em class="sig-param">1</em>, <em class="sig-param">1</em>, <em class="sig-param">0</em>, <em class="sig-param">0)</em>, <em class="sig-param">sequence_segment_length: int = 50</em>, <em class="sig-param">drop_prob: float = 0.3</em>, <em class="sig-param">device: str = 'cuda'</em>, <em class="sig-param">auto_populate: bool = True</em>, <em class="sig-param">train_data_prop: float = 0.8</em>, <em class="sig-param">lr: float = 0.0001</em>, <em class="sig-param">train_batch_size: int = 10</em>, <em class="sig-param">test_batch_size: int = 4</em>, <em class="sig-param">num_workers: int = 2</em>, <em class="sig-param">label_length: int = 30</em>, <em class="sig-param">try_load_weights: bool = False</em>, <em class="sig-param">save_state_dict: bool = True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/StockRNN.html#StockRNN"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.StockRNN.StockRNN" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">torch.nn.modules.module.Module</span></code></p>
<p>Class for training on and predicting stocks using a LSTM network</p>
<dl class="method">
<dt id="src.StockRNN.StockRNN.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">ticker: str</em>, <em class="sig-param">lstm_hidden_size: int = 100</em>, <em class="sig-param">lstm_num_layers: int = 2</em>, <em class="sig-param">to_compare: [&lt;class 'str'&gt;] = None</em>, <em class="sig-param">train_start_date: datetime.datetime = datetime.datetime(2017</em>, <em class="sig-param">1</em>, <em class="sig-param">1</em>, <em class="sig-param">0</em>, <em class="sig-param">0)</em>, <em class="sig-param">train_end_date: datetime.datetime = datetime.datetime(2018</em>, <em class="sig-param">1</em>, <em class="sig-param">1</em>, <em class="sig-param">0</em>, <em class="sig-param">0)</em>, <em class="sig-param">sequence_segment_length: int = 50</em>, <em class="sig-param">drop_prob: float = 0.3</em>, <em class="sig-param">device: str = 'cuda'</em>, <em class="sig-param">auto_populate: bool = True</em>, <em class="sig-param">train_data_prop: float = 0.8</em>, <em class="sig-param">lr: float = 0.0001</em>, <em class="sig-param">train_batch_size: int = 10</em>, <em class="sig-param">test_batch_size: int = 4</em>, <em class="sig-param">num_workers: int = 2</em>, <em class="sig-param">label_length: int = 30</em>, <em class="sig-param">try_load_weights: bool = False</em>, <em class="sig-param">save_state_dict: bool = True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/StockRNN.html#StockRNN.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.StockRNN.StockRNN.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lstm_hidden_size</strong> – size of the lstm hidden layer</p></li>
<li><p><strong>lstm_num_layers</strong> – number of layers for the lstm</p></li>
<li><p><strong>ticker</strong> – ticker of company whose stock you want to predict</p></li>
<li><p><strong>to_compare</strong> – ticker of companies whose stock will be part of the features of the dataset</p></li>
<li><p><strong>train_start_date</strong> – date to request data from</p></li>
<li><p><strong>train_end_date</strong> – date to request data to</p></li>
<li><p><strong>sequence_segment_length</strong> – length of sequences to train the model on</p></li>
<li><p><strong>drop_prob</strong> – probability for dropout layers</p></li>
<li><p><strong>device</strong> – string for device to try sending the tensors to (i.e. “cuda”)</p></li>
<li><p><strong>auto_populate</strong> – automatically calls all ‘populate’ functions in the constructor</p></li>
<li><p><strong>train_data_prop</strong> – proportion of data set to allocate to training data</p></li>
<li><p><strong>lr</strong> – learning rate for the optimizer</p></li>
<li><p><strong>train_batch_size</strong> – batch size for the training data</p></li>
</ul>
</dd>
</dl>
<p>:param test_batch_size:batch size for the testing data
:param num_workers: parameter for Pytorch DataLoaders
:param label_length: length of data (starting at the end of each sequence segment) to consider for the loss
:param try_load_weights: boolean for whether the model should search for a cached model state dictionary
:param save_state_dict: boolean for whether the model should cache its weights as a state dictionary</p>
</dd></dl>

<dl class="method">
<dt id="src.StockRNN.StockRNN.check_sliding_window_valid_at_index">
<code class="sig-name descname">check_sliding_window_valid_at_index</code><span class="sig-paren">(</span><em class="sig-param">end_pred_index</em>, <em class="sig-param">pred_beyond_range</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/StockRNN.html#StockRNN.check_sliding_window_valid_at_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.StockRNN.StockRNN.check_sliding_window_valid_at_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks that the index parameter for creating a distribution of predictions is valid for the dataset, and
modifies it if it isn’t (as well as prints a warning describing the condition)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>end_pred_index</strong> – index of the date that is desired to be predicted</p></li>
<li><p><strong>pred_beyond_range</strong> – tuple containing the range of the number of forecasted days the model will use to</p></li>
</ul>
</dd>
</dl>
<p>arrive at a prediction at <code class="docutils literal notranslate"><span class="pre">end_pred_index</span></code>
:return: end_pred_index (modified if necessary)</p>
</dd></dl>

<dl class="method">
<dt id="src.StockRNN.StockRNN.do_training">
<code class="sig-name descname">do_training</code><span class="sig-paren">(</span><em class="sig-param">num_epochs: int</em>, <em class="sig-param">verbose=True</em>, <em class="sig-param">plot_output: bool = True</em>, <em class="sig-param">plot_output_figsize: (&lt;class 'int'&gt;</em>, <em class="sig-param">&lt;class 'int'&gt;) = (5</em>, <em class="sig-param">10)</em>, <em class="sig-param">plot_loss: bool = True</em>, <em class="sig-param">plot_loss_figsize: (&lt;class 'int'&gt;</em>, <em class="sig-param">&lt;class 'int'&gt;) = (7</em>, <em class="sig-param">5)</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/StockRNN.html#StockRNN.do_training"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.StockRNN.StockRNN.do_training" title="Permalink to this definition">¶</a></dt>
<dd><p>This method trains the network using data in <code class="xref py py-attr docutils literal notranslate"><span class="pre">train_loader</span></code> and checks against the data in
<code class="xref py py-attr docutils literal notranslate"><span class="pre">test_loader</span></code> at the end of each epoch. The forward pass through the network produces sequences of the
same length as the input sequences. The sequences in the label data are of length <code class="xref py py-attr docutils literal notranslate"><span class="pre">label_length</span></code>, so the
output sequences are  cropped to length <code class="xref py py-attr docutils literal notranslate"><span class="pre">label_length</span></code> before being passed through the MSE loss function.
Because each element of the output sequence at position <code class="docutils literal notranslate"><span class="pre">n</span></code> is a prediction of the input element <code class="docutils literal notranslate"><span class="pre">n+1</span></code>, the
cropped windows of  the output sequences are given by the window that terminates at the second-to-last element
of the output sequence.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_epochs</strong> – number of epochs to to run the training for</p></li>
<li><p><strong>verbose</strong> – if true, print diagnostic progress updates and final training and test loss</p></li>
<li><p><strong>plot_output</strong> – if true, plot the results of the final pass through the LSTM with a randomly selected</p></li>
</ul>
</dd>
</dl>
<p>segment of data
:param plot_output_figsize: <code class="docutils literal notranslate"><span class="pre">figsize</span></code> argument for the output plot
:param plot_loss: if true, plot the training and test loss
:param plot_loss_figsize: <code class="docutils literal notranslate"><span class="pre">figsize</span></code> argument for the loss plot</p>
</dd></dl>

<dl class="method">
<dt id="src.StockRNN.StockRNN.forward">
<code class="sig-name descname">forward</code><span class="sig-paren">(</span><em class="sig-param">X: torch.Tensor</em>, <em class="sig-param">predict_beyond: int = 0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/StockRNN.html#StockRNN.forward"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.StockRNN.StockRNN.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Completes a forward pass of data through the network. The tensor passed in is of shape (batch size, features,
sequence length), and the output is of shape (batch size, 1, sequence length). The data is passed through a LSTM
layer with an arbitrary number of layers and an arbitrary hidden size (as defined by <code class="xref py py-attr docutils literal notranslate"><span class="pre">lstm_hidden_size</span></code>
and <code class="xref py py-attr docutils literal notranslate"><span class="pre">lstm_num_layers</span></code>; the output is then passed through 2 fully connected layers such that the final
number of features is the same as the input number of features (<code class="xref py py-attr docutils literal notranslate"><span class="pre">num_companies</span></code>)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> – input matrix of data of shape: (batch size, features (number of companies), sequence length)</p></li>
<li><p><strong>predict_beyond</strong> – number of days to recursively predict beyond the given input sequence</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>output of the forward pass of the data through the network (same shape as input)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="src.StockRNN.StockRNN.generate_predicted_distribution">
<code class="sig-name descname">generate_predicted_distribution</code><span class="sig-paren">(</span><em class="sig-param">end_pred_index: int = None</em>, <em class="sig-param">pred_beyond_range: (&lt;class 'int'&gt;</em>, <em class="sig-param">&lt;class 'int'&gt;) = (1</em>, <em class="sig-param">10)</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/StockRNN.html#StockRNN.generate_predicted_distribution"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.StockRNN.StockRNN.generate_predicted_distribution" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of predicted stock values at a given date using a range of forecast lengths</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>end_pred_index</strong> – index of the date that is desired to be predicted</p></li>
<li><p><strong>pred_beyond_range</strong> – tuple containing the range of the number of forecasted days the model will use to</p></li>
</ul>
</dd>
</dl>
<p>arrive at a prediction at <code class="docutils literal notranslate"><span class="pre">end_pred_index</span></code>
:return: list of predicted values (of length given by <code class="docutils literal notranslate"><span class="pre">pred_beyond_range</span></code>)
:return: actual stock value corresponding to the predictions</p>
</dd></dl>

<dl class="method">
<dt id="src.StockRNN.StockRNN.make_prediction_with_validation">
<code class="sig-name descname">make_prediction_with_validation</code><span class="sig-paren">(</span><em class="sig-param">predict_beyond: int = 30</em>, <em class="sig-param">num_plots: int = 2</em>, <em class="sig-param">data_start_indices: numpy.ndarray = None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/StockRNN.html#StockRNN.make_prediction_with_validation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.StockRNN.StockRNN.make_prediction_with_validation" title="Permalink to this definition">¶</a></dt>
<dd><p>Selects data from the dataset and makes a prediction <code class="docutils literal notranslate"><span class="pre">predict_beyond</span></code> days out, and the actual values
of the stock are shown alongside.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>predict_beyond</strong> – days to predict ahead in the future</p></li>
<li><p><strong>data_start_indices</strong> – indices corresponding to locations in the total dataset sequence for the training</p></li>
</ul>
</dd>
</dl>
<p>data to be gathered from (with the training data being of length <code class="xref py py-attr docutils literal notranslate"><span class="pre">sequence_segment_length</span></code>)
:return: length of the data being returned (training + prediction sequences)
:return: datetime objects corresponding to data_start_indices
:return: datetime objects corresponding to the end of the returned sequences
:return: indices corresponding to the days where the predicted sequence starts
:return: input and label sequence data associated with each pass of the model
:return: numpy array of the model output
:return: training data (in absolute stock value form instead of the % change that the model sees)
:return: output prediction of the model converted from % change to actual stock values
:return: label data (in absolute stock value form instead of % change) to compare to the output prediction
:return: disparity between predicted stock values and actual stock values</p>
</dd></dl>

<dl class="method">
<dt id="src.StockRNN.StockRNN.peek_dataset">
<code class="sig-name descname">peek_dataset</code><span class="sig-paren">(</span><em class="sig-param">figsize: (&lt;class 'int'&gt;</em>, <em class="sig-param">&lt;class 'int'&gt;) = (10</em>, <em class="sig-param">5)</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/StockRNN.html#StockRNN.peek_dataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.StockRNN.StockRNN.peek_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a simple line plot of the entire dataset</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>figsize</strong> – tuple of integers for <code class="xref py py-class docutils literal notranslate"><span class="pre">plt.subplots</span></code> <code class="docutils literal notranslate"><span class="pre">figsize</span></code> argument</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="src.StockRNN.StockRNN.plot_predicted_distribution">
<code class="sig-name descname">plot_predicted_distribution</code><span class="sig-paren">(</span><em class="sig-param">latest_data_index: int = None</em>, <em class="sig-param">pred_beyond_range: (&lt;class 'int'&gt;</em>, <em class="sig-param">&lt;class 'int'&gt;) = (1</em>, <em class="sig-param">10)</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/StockRNN.html#StockRNN.plot_predicted_distribution"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.StockRNN.StockRNN.plot_predicted_distribution" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: documentation</p>
</dd></dl>

<dl class="method">
<dt id="src.StockRNN.StockRNN.plot_prediction_with_validation">
<code class="sig-name descname">plot_prediction_with_validation</code><span class="sig-paren">(</span><em class="sig-param">predict_beyond: int = 30</em>, <em class="sig-param">num_plots: int = 5</em>, <em class="sig-param">plt_scl=20</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/StockRNN.html#StockRNN.plot_prediction_with_validation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.StockRNN.StockRNN.plot_prediction_with_validation" title="Permalink to this definition">¶</a></dt>
<dd><p>A method for debugging/validating <a class="reference internal" href="#src.StockRNN.StockRNN.make_prediction_with_validation" title="src.StockRNN.StockRNN.make_prediction_with_validation"><code class="xref py py-attr docutils literal notranslate"><span class="pre">make_prediction_with_validation</span></code></a> - makes predictions and shows the
raw output of the model, reconstructed stock prices, and disparity between predicted stock prices and actual
stock prices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>predict_beyond</strong> – days to predict ahead in the future</p></li>
<li><p><strong>num_plots</strong> – number of times to call <a class="reference internal" href="#src.StockRNN.StockRNN.make_prediction_with_validation" title="src.StockRNN.StockRNN.make_prediction_with_validation"><code class="xref py py-attr docutils literal notranslate"><span class="pre">make_prediction_with_validation</span></code></a> and plot the results</p></li>
</ul>
</dd>
<dt class="field-even">Plt_scl</dt>
<dd class="field-even"><p>integer for width and heigh parameters of matplotlib plot</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="src.StockRNN.StockRNN.populate_daily_stock_data">
<code class="sig-name descname">populate_daily_stock_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/StockRNN.html#StockRNN.populate_daily_stock_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.StockRNN.StockRNN.populate_daily_stock_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Populates <code class="docutils literal notranslate"><span class="pre">self.daily_stock_data</span></code> with the day-over-day percent change of the closing stock prices. The data
for each company is truncated such that each company’s array of data is the same length as the rest and such
that their length is divisible by :attr:` sequence_segment_length`.</p>
</dd></dl>

<dl class="method">
<dt id="src.StockRNN.StockRNN.populate_loaders">
<code class="sig-name descname">populate_loaders</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/StockRNN.html#StockRNN.populate_loaders"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.StockRNN.StockRNN.populate_loaders" title="Permalink to this definition">¶</a></dt>
<dd><p>Populates <code class="xref py py-attr docutils literal notranslate"><span class="pre">train_loader</span></code>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">test_laoder</span></code>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">train_loader_len</span></code>, and <cite>:attr:`test_loader_len</cite>
attributes.</p>
</dd></dl>

<dl class="method">
<dt id="src.StockRNN.StockRNN.populate_test_train">
<code class="sig-name descname">populate_test_train</code><span class="sig-paren">(</span><em class="sig-param">rand_seed: int = -1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/StockRNN.html#StockRNN.populate_test_train"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.StockRNN.StockRNN.populate_test_train" title="Permalink to this definition">¶</a></dt>
<dd><p>Populates <code class="docutils literal notranslate"><span class="pre">self.train_data</span></code> and <code class="docutils literal notranslate"><span class="pre">self.test_data</span></code> tensors with complimentary subsets of the sequences of
<code class="docutils literal notranslate"><span class="pre">self.daily_stock_data</span></code>, where the sequences are the <code class="docutils literal notranslate"><span class="pre">self.sequence_length</span></code> length sequences of data that,
when  concatenated, comprise <code class="docutils literal notranslate"><span class="pre">self.daily_stock_data</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>rand_seed</strong> – value to seed the random number generator; if -1 (or any value &lt; 0), then do not
seed the random number generator.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="src.StockRNN.StockRNN.pred_in_conj">
<code class="sig-name descname">pred_in_conj</code><span class="sig-paren">(</span><em class="sig-param">start_of_pred_idx: int</em>, <em class="sig-param">n_days: int</em>, <em class="sig-param">pred_beyond_range: (&lt;class 'int'&gt;</em>, <em class="sig-param">&lt;class 'int'&gt;) = (1</em>, <em class="sig-param">10)</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/StockRNN.html#StockRNN.pred_in_conj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.StockRNN.StockRNN.pred_in_conj" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls <a href="#id1"><span class="problematic" id="id2">:method:`generate_predicted_distribution`</span></a> to create a list of predictions for each day given in a given
range, and returns the mean and standard deviation associated with each day.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start_of_pred_index</strong> – integer corresponding to the first date whose distribution will be predicted</p></li>
<li><p><strong>n_days</strong> – number of days from <code class="docutils literal notranslate"><span class="pre">start_of_pred_index</span></code> to predict out</p></li>
<li><p><strong>pred_beyond_range</strong> – tuple containing the range of the number of forecasted days the model will use to</p></li>
</ul>
</dd>
</dl>
<p>arrive at a prediction at <code class="docutils literal notranslate"><span class="pre">end_pred_index</span></code>
:return: list of length <code class="docutils literal notranslate"><span class="pre">n_days</span></code> of the mean values associated with each day’s predicted stock
:return: list of length <code class="docutils literal notranslate"><span class="pre">n_days</span></code> of the standard deviation associated with each day’s predicted stock</p>
</dd></dl>

<dl class="method">
<dt id="src.StockRNN.StockRNN.return_loaders">
<code class="sig-name descname">return_loaders</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; [&lt;class 'torch.utils.data.dataloader.DataLoader'&gt;, &lt;class 'torch.utils.data.dataloader.DataLoader'&gt;]<a class="reference internal" href="../_modules/src/StockRNN.html#StockRNN.return_loaders"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.StockRNN.StockRNN.return_loaders" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the <span class="xref std std-ref">torch.utils.data.Dataloader</span> objects for the training and test sets</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>training DataLoader</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>testing DataLoader</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-src.get_data">
<span id="src-get-data-module"></span><h2>src.get_data module<a class="headerlink" href="#module-src.get_data" title="Permalink to this headline">¶</a></h2>
<p>Utility functions for acquiring financial data</p>
<p>&#64;author: Duncan Mazza</p>
<dl class="class">
<dt id="src.get_data.Company">
<em class="property">class </em><code class="sig-prename descclassname">src.get_data.</code><code class="sig-name descname">Company</code><span class="sig-paren">(</span><em class="sig-param">ticker: str</em>, <em class="sig-param">start_date: datetime.datetime</em>, <em class="sig-param">end_date: datetime.datetime</em>, <em class="sig-param">call_populate_dataframe: bool = True</em>, <em class="sig-param">cache_bool: bool = True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/get_data.html#Company"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.get_data.Company" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="method">
<dt id="src.get_data.Company.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">ticker: str</em>, <em class="sig-param">start_date: datetime.datetime</em>, <em class="sig-param">end_date: datetime.datetime</em>, <em class="sig-param">call_populate_dataframe: bool = True</em>, <em class="sig-param">cache_bool: bool = True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/get_data.html#Company.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.get_data.Company.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: documentation here</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ticker</strong> – </p></li>
<li><p><strong>start_date</strong> – </p></li>
<li><p><strong>end_date</strong> – </p></li>
<li><p><strong>call_populate_dataframe</strong> – </p></li>
<li><p><strong>cache_bool</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="src.get_data.Company.cache">
<code class="sig-name descname">cache</code><span class="sig-paren">(</span><em class="sig-param">file_path: str</em>, <em class="sig-param">data_frame: pandas.core.frame.DataFrame = None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/get_data.html#Company.cache"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.get_data.Company.cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves a DataFrame as a <code class="docutils literal notranslate"><span class="pre">.csv</span></code> to a path relative to the current working directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>file_path</strong> – path to save the <span class="xref std std-ref">DataFrame</span> to; if not an absolute path, then it is used as a path</p>
</dd>
</dl>
<p>relative to the current working directory.
:param data_frame: DataFrame to save (if not specified, will use <code class="xref py py-attr docutils literal notranslate"><span class="pre">data_frame</span></code> (attribute)</p>
</dd></dl>

<dl class="method">
<dt id="src.get_data.Company.get_date_at_index">
<code class="sig-name descname">get_date_at_index</code><span class="sig-paren">(</span><em class="sig-param">i</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/get_data.html#Company.get_date_at_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.get_data.Company.get_date_at_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the datetime object at index</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>i</strong> – index to return the date of</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="src.get_data.Company.moving_average">
<em class="property">static </em><code class="sig-name descname">moving_average</code><span class="sig-paren">(</span><em class="sig-param">a</em>, <em class="sig-param">n</em>, <em class="sig-param">padding: bool = True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/get_data.html#Company.moving_average"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.get_data.Company.moving_average" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the moving average of a one-dimensional numpy array <code class="docutils literal notranslate"><span class="pre">a</span></code>, capable of utilizing a padding of
length <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">-</span> <span class="pre">1</span></code> at the beginning of the pre-filtered data so that the length is not truncated; the padding is
populated with the same value as the first value of the % change sequence.
:param a: one-dimensional numpy array
:param n: length of rolling average filter
:param padding: boolean for whether to utilize padding
:return: filtered array</p>
</dd></dl>

<dl class="method">
<dt id="src.get_data.Company.populate_dataframe">
<code class="sig-name descname">populate_dataframe</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/get_data.html#Company.populate_dataframe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.get_data.Company.populate_dataframe" title="Permalink to this definition">¶</a></dt>
<dd><p>Populates <code class="xref py py-attr docutils literal notranslate"><span class="pre">data_frame</span></code> with stock data acquired using pandas_datareader.data. View more information
<a class="reference external" href="https://pandas-datareader.readthedocs.io/en/latest/remote_data.html">here</a>. Modifies <code class="xref py py-attr docutils literal notranslate"><span class="pre">start_date</span></code>,
<code class="xref py py-attr docutils literal notranslate"><span class="pre">start_date_changed</span></code>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">end_date</span></code>, and <code class="xref py py-attr docutils literal notranslate"><span class="pre">end_date_changed</span></code> if <code class="xref py py-attr docutils literal notranslate"><span class="pre">start_date</span></code> and/or
<code class="xref py py-attr docutils literal notranslate"><span class="pre">end_date</span></code> are different than the actual start and end dates in <code class="xref py py-attr docutils literal notranslate"><span class="pre">data_frame</span></code> such that
<code class="xref py py-attr docutils literal notranslate"><span class="pre">start_date</span></code> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">end_date</span></code> equal the actual start and end dates in <code class="xref py py-attr docutils literal notranslate"><span class="pre">data_frame</span></code> (and
<code class="xref py py-attr docutils literal notranslate"><span class="pre">start_date_changed</span></code> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">end_date_changed</span></code> reflect whether <code class="xref py py-attr docutils literal notranslate"><span class="pre">start_date</span></code> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">end_date</span></code>
were changed respectively).</p>
</dd></dl>

<dl class="method">
<dt id="src.get_data.Company.reconstruct_stock_from_percent_change">
<code class="sig-name descname">reconstruct_stock_from_percent_change</code><span class="sig-paren">(</span><em class="sig-param">percent_change_vec: numpy.ndarray</em>, <em class="sig-param">initial_condition_index: int</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/get_data.html#Company.reconstruct_stock_from_percent_change"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.get_data.Company.reconstruct_stock_from_percent_change" title="Permalink to this definition">¶</a></dt>
<dd><p>Reconstruct the stock prices from percent change</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>percent_change_vec</strong> – vector of percent changes</p></li>
<li><p><strong>initial_condition_index</strong> – index of initial condition for the % change</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="src.get_data.Company.return_data">
<code class="sig-name descname">return_data</code><span class="sig-paren">(</span><em class="sig-param">ticker: str = None</em>, <em class="sig-param">start_date: datetime.datetime = None</em>, <em class="sig-param">end_date: datetime.datetime = None</em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="reference internal" href="../_modules/src/get_data.html#Company.return_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.get_data.Company.return_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the DataFrame containing the financial data for the prescribed company. This function will pull the
data from the Yahoo API built into <span class="xref std std-ref">pandas_datareader</span> if it has not been cached and will then cache the
data, or it will read the data from the cached <code class="docutils literal notranslate"><span class="pre">csv</span></code> file. The cached files are named with the ticker, start
date, and end dates that specify the API query, and exist in the <code class="docutils literal notranslate"><span class="pre">.cache/</span></code> folder located under the current
working directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ticker</strong> – ticker string for the company whose data will be retrieved</p></li>
<li><p><strong>start_date</strong> – start date for the data record</p></li>
<li><p><strong>end_date</strong> – end date for the data record</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>DataFrame of financial data</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="src.get_data.Company.return_dummy_data">
<code class="sig-name descname">return_dummy_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/get_data.html#Company.return_dummy_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.get_data.Company.return_dummy_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates linear stock data as dummy data for testing a model</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>numpy array of dummy data</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="src.get_data.Company.return_numpy_array_of_company_daily_stock_close">
<code class="sig-name descname">return_numpy_array_of_company_daily_stock_close</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; numpy.ndarray<a class="reference internal" href="../_modules/src/get_data.html#Company.return_numpy_array_of_company_daily_stock_close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.get_data.Company.return_numpy_array_of_company_daily_stock_close" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a numpy array of the “Close” column of <code class="xref py py-attr docutils literal notranslate"><span class="pre">data_frame</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>numpy array of closing stock prices indexed by day</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="src.get_data.Company.return_numpy_array_of_company_daily_stock_percent_change">
<code class="sig-name descname">return_numpy_array_of_company_daily_stock_percent_change</code><span class="sig-paren">(</span><em class="sig-param">rolling_avg_length: int = 4</em><span class="sig-paren">)</span> &#x2192; numpy.ndarray<a class="reference internal" href="../_modules/src/get_data.html#Company.return_numpy_array_of_company_daily_stock_percent_change"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.get_data.Company.return_numpy_array_of_company_daily_stock_percent_change" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts the numpy array of the closing stock data (acquired by calling
<a href="#id3"><span class="problematic" id="id4">:method:`return_numpy_array_of_company_daily_stock_close`</span></a>) into an array of day-over-day percent change.
Adds a value of 0 at the beginning of the array to maintain sequence length.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>apply_rolling_avg</strong> – if nonzero, applies a rolling average filter to the percent change data (see</p>
</dd>
</dl>
<p><a href="#id5"><span class="problematic" id="id6">:method:`moving_average`</span></a> for details on how the rolling average is calculated with padding)
:return: numpy array of length 1 less than the array generated by
<a href="#id7"><span class="problematic" id="id8">:method:`return_numpy_array_of_company_daily_stock_close`</span></a></p>
</dd></dl>

<dl class="method">
<dt id="src.get_data.Company.revise_end_date">
<code class="sig-name descname">revise_end_date</code><span class="sig-paren">(</span><em class="sig-param">new_end_date: datetime.datetime</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/get_data.html#Company.revise_end_date"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.get_data.Company.revise_end_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Modifies <code class="xref py py-attr docutils literal notranslate"><span class="pre">data_frame</span></code> such that the last date of the data is equal to <code class="docutils literal notranslate"><span class="pre">new_end_date</span></code> (all following
data is deleted).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_end_date</strong> – a datetime object of the new end date for <code class="xref py py-attr docutils literal notranslate"><span class="pre">data_frame</span></code> (where <code class="docutils literal notranslate"><span class="pre">new_end_date</span></code>
exists and is unique in <code class="docutils literal notranslate"><span class="pre">self.data_frame[&quot;Date&quot;]</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="src.get_data.Company.revise_start_date">
<code class="sig-name descname">revise_start_date</code><span class="sig-paren">(</span><em class="sig-param">new_start_date: datetime.datetime</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/get_data.html#Company.revise_start_date"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.get_data.Company.revise_start_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Modifies <code class="xref py py-attr docutils literal notranslate"><span class="pre">data_frame</span></code> such that the starting date of the data is equal to <code class="docutils literal notranslate"><span class="pre">new_start_date</span></code> (all prior
data is deleted).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_start_date</strong> – a datetime object of the new start date for <code class="xref py py-attr docutils literal notranslate"><span class="pre">data_frame</span></code> (where <code class="docutils literal notranslate"><span class="pre">new_start_date</span></code>
exists and is unique in <code class="docutils literal notranslate"><span class="pre">self.data_frame[&quot;Date&quot;]</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-src.prob_train">
<span id="src-prob-train-module"></span><h2>src.prob_train module<a class="headerlink" href="#module-src.prob_train" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-src">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-src" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="tests.html" class="btn btn-neutral float-right" title="tests package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="main.html" class="btn btn-neutral float-left" title="main module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Duncan Mazza and Shashank Swaminathan

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>